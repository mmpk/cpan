montageDefine("1f0a740","ui/repetition.reel/repetition",{dependencies:["../../core/core","../component","../../core/template","../../core/range-controller","../../core/promise","../../core/browser","collections/map","collections/set","../../core/deprecate","../../core/logger","frb/observers"],factory:function(e,i){var t=e("../../core/core").Montage,s=e("../component").Component;e("../../core/template").Template;var a=e("../../core/range-controller").RangeController,u=e("../../core/promise").Promise;e("../../core/browser").browser;var n=e("collections/map"),l=e("collections/set"),r=e("../../core/deprecate").deprecationWarning,o=e("../../core/logger").logger("repetition").color.magenta(),c=e("frb/observers"),m=c.observeProperty,d=c.observeKey,p=60,v=i.Iteration=t.specialize({repetition:{value:null},controller:{value:null},object:{value:null},selected:{value:null},_fragment:{value:null},_childComponents:{value:null},index:{value:null},_drawnIndex:{value:null},active:{value:null},_noTransition:{value:null},_templateDocumentPart:{value:null},isDirty:{value:!1},constructor:{value:function v(){this.super(),o.isDebug&&o.debug("Iteration:%s create iteration %O",Object.hash(this),this),this.repetition=null,this.controller=null,this.object=null,this.defineBinding("selected",{"<->":"object.defined() ? repetition.contentController.selection.has(object) : selected"}),this._fragment=null,this._childComponents=null,this.index=null,this._drawnIndex=null,this.active=!1,this.defineBinding("active",{"<->":"repetition.activeIterations.has(())"}),this._noTransition=!1,this.addOwnPropertyChangeListener("active",this),this.addOwnPropertyChangeListener("selected",this),this.addOwnPropertyChangeListener("_noTransition",this),this.addPathChangeListener("index.defined() && _childComponents.defined()",this,"handleComponentModelChange"),this.cachedFirstElement=null}},_timeoutBecomeActiveID:{value:null},_shouldBecomeActive:{value:!1},shouldBecomeActive:{set:function(e){if(this._timeoutBecomeActiveID&&(clearTimeout(this._timeoutBecomeActiveID),this._timeoutBecomeActiveID=null),e){var i=this;this._shouldBecomeActive=!0,this._timeoutBecomeActiveID=setTimeout(function(){i._shouldBecomeActive&&(i.active=!0),i._shouldBecomeActive=!1},p)}else this._shouldBecomeActive=!1},get:function(){return this._shouldBecomeActive}},initWithRepetition:{value:function(e){return this.repetition=e,this}},recycle:{value:function(){this.index=null,this.object=null,this._noTransition=!0}},injectIntoDocument:{value:function(e){null!==this._drawnIndex?(o.isDebug&&o.debug("Iteration:%s retracting from index %s and injecting at %s",Object.hash(this),this._drawnIndex,e),this.retractFromDocument()):o.isDebug&&o.debug("Iteration:%s injecting at index %s",Object.hash(this),e);var i=this,t=this.repetition,s=t.element,a=t._boundaries,u=s.ownerDocument.createTextNode(""),n=a[e];if(a.splice(e,0,u),s.insertBefore(u,n),s.insertBefore(this._fragment,n),t._drawnIterations.splice(e,0,this),t._updateDrawnIndexes(e),t._addDirtyClassListIteration(this),!this._elementsWillBeAddedToMap){var l=this._childComponents.length,r=function(e){e.target.removeEventListener("firstDraw",r,!1),l--,l||i.forEachElement(function(e){t._iterationForElement.set(e,i)})};if(this._childComponents.length>0)for(var c=0;this._childComponents.length>c;c++){var m=this._childComponents[c];m.addEventListener("firstDraw",r,!1),m.needsDraw=!0,m._completedFirstDraw===!0&&console.error("Repetiton:%s child component %O has already drawn.",Object.hash(this),m)}else this.forEachElement(function(e){t._iterationForElement.set(e,i)});this._elementsWillBeAddedToMap=!0}}},_elementsWillBeAddedToMap:{value:!1},retractFromDocument:{value:function(){o.isDebug&&o.debug("Iteration:%s retractFromDocument drawnIndex: %s",Object.hash(this),this._drawnIndex);var e=this._drawnIndex,i=this.repetition,t=i.element,s=i._boundaries[e],a=i._boundaries[e+1];i._boundaries.splice(e,1);for(var u=this._fragment,n=s.nextSibling;n!=a;){var l=n.nextSibling;t.removeChild(n),u.appendChild(n),n=l}t.removeChild(s),this._drawnIndex=null,i._drawnIterations.splice(e,1),i._updateDrawnIndexes(e)}},handleComponentModelChange:{value:function(e){e?this._childComponents.forEach(this.repetition.addChildComponent,this.repetition):this._childComponents&&this._childComponents.forEach(this.repetition.removeChildComponent,this.repetition)}},handlePropertyChange:{value:function(){this.repetition&&(this.repetition._addDirtyClassListIteration(this),this.repetition.needsDraw=!0)}},forEachElement:{value:function(e,i){var t=this.repetition,s=this._drawnIndex;if(null!=s)for(var a=t._boundaries[s];a!==t._boundaries[s+1];a=a.nextSibling)1===a.nodeType&&e.call(i,a)}},firstElement:{get:function(){var e=this.repetition,i=this._drawnIndex;if(null!=i)for(var t=e._boundaries[i];t!==e._boundaries[i+1];t=t.nextSibling)if(1===t.nodeType)return this.cachedFirstElement=t,t}},isComponentTreeLoaded:{value:function(){return null!==this._fragment}},cachedFirstElement:{value:null}});i.Repetition=s.specialize({initWithContent:{value:function(e){return this.object=e,this}},initWithContentController:{value:function(e){return this.contentController=e,this}},content:{get:function(){return this.getPath("contentController.content")},set:function(e){this.contentController=(new a).initWithContent(e)}},contentController:{value:null},isSelectionEnabled:{value:null},selection:{value:null},selectedIterations:{value:null},selectedIndexes:{value:null},activeIterations:{value:null},iterations:{value:null},currentIteration:{value:null},objectAtCurrentIteration:{value:null},hasTemplate:{value:!1},_iterationTemplate:{value:null},clonesChildComponents:{value:!0},constructor:{value:function(){this.super(),this.contentController=null,this.organizedContent=[],this.defineBinding("organizedContent.rangeContent()",{"<-":"contentController.organizedContent"}),this.isSelectionEnabled=!1,this.defineBinding("selection",{"<->":"contentController.selection"}),this.defineBinding("selectedIterations",{"<-":"iterations.filter{selected}"}),this.defineBinding("selectedIndexes",{"<-":"selectedIterations.map{index}"}),this._iterationTemplate=null,this.addPathChangeListener(this._setupRequirements,this,"_handleSetupRequirementsChange"),this.addPathChangeListener("innerTemplate",this,"_handleInnerTemplateChange"),this.iterations=[],this._drawnIterations=[],this._freeIterations=[],this._contentForIteration=n(),this._iterationForElement=n(),this.currentIteration=null,this._templateId=null,this._iterationCreationPromise=u.resolve(),this._boundaries=[],this._dirtyClassListIterations=l(),this._requestedIterations=0,this._createdIterations=0,this._canDrawInitialContent=!1,this._initialContentDrawn=!1,this.addOwnPropertyChangeListener("isSelectionEnabled",this),this._selectionPointer=null,this.activeIterations=[]}},_setupRequirements:{value:"[!_iterationTemplate.defined(),!_newDomContent.defined(),!_shouldClearDomContentOnNextDraw,_isComponentExpanded,_ownerDocumentPart.defined()].every{}"},_handleSetupRequirementsChange:{value:function(e){e&&this._setupIterationTemplate()}},_handleInnerTemplateChange:{value:function(e){this._iterationTemplate&&this._teardownIterationTemplate(),e&&this.getPath(this._setupRequirements)&&this._setupIterationTemplate()}},cleanupDeletedComponentTree:{value:function(e){var i=this._innerTemplate;this._innerTemplate=null,i&&this._teardownIterationTemplate(),e&&this.cancelBindings()}},expandComponent:{value:function(){return this._isComponentExpanded=!0,u.resolve()}},_buildIterationTemplate:{value:function(){var e,i,s,a;return e=this.innerTemplate.clone(),i=e.getSerialization(),s=i.getSerializationObject(),a=t.getInfoForObject(this).label,this._iterationLabel=a+":iteration",s[this._iterationLabel]={},e.setObjects(s),this.innerTemplate.hasParameters()&&this._expandIterationTemplateParameters(e),window._montage_le_flag&&(e.refresher=this,this._leTagIterationTemplate(e)),e}},_rebuildIterationTemplate:{value:function(){var e,i=this._iterationTemplate,t=this.iterations;this._purgeFreeIterations();for(var s,a=0;s=t[a];a++)s.isDirty=!0;this._innerTemplate=null,e=this._buildIterationTemplate(),i.replaceContentsWithTemplate(e)}},refreshTemplate:{value:function(){this._rebuildIterationTemplate()}},_setupIterationTemplate:{value:function(){var e=this;this._iterationTemplate=this._buildIterationTemplate();for(var i,t=e.childComponents,s=t.length-1;i=t[s--];)i.detachFromParentComponent(),i.needsDraw=!1,i.cleanupDeletedComponentTree(!0);e.handleOrganizedContentRangeChange(e.organizedContent,[],0),e.organizedContent.addRangeChangeListener(e,"organizedContent"),e._canDrawInitialContent=!0,e.needsDraw=!0}},_leTagIterationTemplate:{value:function(e){var i=e.document.body;if(i.children.length>0){var t=this.ownerComponent._montage_metadata.moduleId,s=this._montage_metadata.label;this._leTagStarArgument(t,s,i)}}},_teardownIterationTemplate:{value:function(){this.organizedContent.removeRangeChangeListener(this,"organizedContent"),this.handleOrganizedContentRangeChange([],this.organizedContent,0),this._purgeFreeIterations(),this._iterationTemplate=null,this._contentForIteration.clear(),this._iterationForElement.clear(),this.currentIteration=null,this._templateId=null,this._requestedIterations=0,this._createdIterations=0,this._canDrawInitialContent=!1,this._selectionPointer=null,this.activeIterations.clear(),this._dirtyClassListIterations.clear()}},_purgeFreeIterations:{value:function(){for(var e=0;this._freeIterations.length>e;e++)for(var i=this._freeIterations[e],t=0;i._childComponents.length>t;t++){var s=i._childComponents[t];this.removeChildComponent(s),s.cleanupDeletedComponentTree(!0)}this._freeIterations.clear()}},_expandIterationTemplateParameters:{value:function(e){for(var i,t,s,a,u,n,l,r,o,c=this;e.hasParameters();){c=c.ownerComponent,i=c._ownerDocumentPart.template,a=c._ownerDocumentPart.objects,n=e.expandParameters(c),s=e.getSerialization().getExternalObjectLabels(),u=e.getInstances(),r=n.labels,t=n.labelsCollisions;for(var m,d=0;m=r[d];d++)l=t&&m in t?t[m]:m,s.indexOf(l)>=0?u[l]=a[m]:(o=i.getObjectMetadata(m),o.owner||(o.owner=a.owner),e.setObjectMetadata(l,o.require,o.label,o.owner))}}},_iterationLabel:{value:null},_iterationCreationPromise:{value:null},_createIteration:{value:function(){var e=this,i=(new this.Iteration).initWithRepetition(this);return this._iterationCreationPromise=this._iterationCreationPromise.then(function(){var t,s,a=e.element.ownerDocument;return e.currentIteration=i,t=e._iterationTemplate.getInstances(),t=Object.create(t),t[e._iterationLabel]=i,s=e._iterationTemplate.instantiateWithInstances(t,a).then(function(t){t.parentDocumentPart=e._ownerDocumentPart,i._templateDocumentPart=t,t.loadComponentTree().then(function(){o.isDebug&&o.debug("Iteration:%s component tree loaded.",Object.hash(i)),i._fragment=t.fragment,i._childComponents=t.childComponents,e.constructIteration(i)}).done(),e.currentIteration=null}),s.done(),s.then(null,function(){})}),this._requestedIterations++,i}},constructIteration:{value:function(){this._createdIterations++,this._createdIterations>=this._requestedIterations&&(this.needsDraw=!0,this._canDraw=!0)}},observeProperty:{value:function(e,i,t){return"contentAtCurrentIteration"===e||"objectAtCurrentIteration"===e?("contentAtCurrentIteration"===e?r("contentAtCurrentIteration",":iteration.object"):"objectAtCurrentIteration"===e&&r("objectAtCurrentIteration",":iteration.object"),d(this._contentForIteration,this.currentIteration,i,t)):"currentIteration"===e?(r("currentIteration",":iteration"),i(this.currentIteration)):m(this,e,i,t)}},makePropertyObservable:{value:function(e){return"currentIteration"!==e?t.makePropertyObservable.call(this,e):void 0}},_controllerIterations:{value:null},_drawnIterations:{value:null},_freeIterations:{value:null},_contentForIteration:{value:null},handleOrganizedContentRangeChange:{value:function(e,i,t){o.isDebug&&o.debug("Repetition:%s content changed +%s@%s %O -%s %O ",Object.hash(this),e?e.length:0,t,e,i?i.length:0,i);var s=this.iterations,a=this._contentForIteration;this._iterationTemplate.isDirty&&this._iterationTemplate.refresh();var u=Math.min(e.length,i.length),n=i.length-u,l=e.length-u;if(o.isDebug&&o.debug("Repetition:%s +%s -%s iterations",Object.hash(this),l,n),u>0)for(var r=0;u>r;r++,t++)s[t].object=e[r],a.set(s[t],e[r]);if(n>0){var c=s.splice(t,n);c.forEach(function(e){e.recycle()});for(var m,r=0;m=c[r];r++)m.isDirty||this._freeIterations.push(m)}if(l>0){if(o.isDebug)var d=[];for(;l>this._freeIterations.length;)this._freeIterations.push(this._createIteration()),o.isDebug&&d.push(this._freeIterations[this._freeIterations.length-1]);for(var p=Array(l),r=u,v=0;e.length>r;r++,v++){var g=this._freeIterations.pop();o.isDebug&&(d.has(g)||o.debug("Repetition:%s reusing %s",Object.hash(this),Object.hash(g)));var h=e[r];g.object=h,a.set(g,h),p[v]=g}s.swap(t,0,p)}(n>0||l>0)&&this._updateIndexes(t),this.needsDraw=!0}},_updateIndexes:{value:function(e){for(var i=this.iterations;i.length>e;e++)i[e].index=e}},_addDirtyClassListIteration:{value:function(e){e.forEachElement(function(i){var t;i&&(t=i.component)?(t.classList[e.active?"add":"remove"]("active"),t.classList[e.selected?"add":"remove"]("selected"),t.classList.remove("no-transition")):this._dirtyClassListIterations.add(e)},this)}},canDraw:{value:function(){var e=this.canDrawGate.value;return e=e&&this._requestedIterations<=this._createdIterations,e=e&&(this._initialContentDrawn||this._canDrawInitialContent)}},_boundaries:{value:null},_dirtyClassListIterations:{value:null},_requestedIterations:{value:null},_createdIterations:{value:null},_canDrawInitialContent:{value:null},_initialContentDrawn:{value:null},draw:{value:function(){this._initialContentDrawn||(this._drawInitialContent(),this._initialContentDrawn=!0);for(var e=this._drawnIterations.length-1;e>=0;e--)null===this._drawnIterations[e].index&&this._drawnIterations[e].retractFromDocument();for(var e=0;this.iterations.length>e;e++){var i=this.iterations[e];i._drawnIndex!==i.index&&i.isComponentTreeLoaded()&&i.injectIntoDocument(e)}var t=this._dirtyClassListIterations.toArray();this._dirtyClassListIterations.clear(),t.forEach(function(e){e.isComponentTreeLoaded()&&e.forEachElement(function(i){i.component||(i.classList[e.active?"add":"remove"]("active"),i.classList[e.selected?"add":"remove"]("selected"),i.classList.remove("no-transition"))},this)},this)}},_drawInitialContent:{value:function(){for(var e=this.element,i=e.childNodes.length,t=0;i>t;t++)e.removeChild(e.firstChild);var s=e.ownerDocument.createTextNode("");e.appendChild(s),this._boundaries.push(s)}},_updateDrawnIndexes:{value:function(e){for(var i=this._drawnIterations;i.length>e;e++)i[e]._drawnIndex=e}},_selectionPointer:{value:null},_threshold:{value:10},_startX:{value:0},_startY:{value:0},_currentActiveIteration:{value:null},handleIsSelectionEnabledChange:{value:function(e){e?this._enableSelectionTracking():this._disableSelectionTracking()}},_enableSelectionTracking:{value:function(){window.Touch?this.element.addEventListener("touchstart",this,!0):this.element.addEventListener("mousedown",this,!0)}},_disableSelectionTracking:{value:function(){window.Touch?this.element.removeEventListener("touchstart",this,!0):this.element.removeEventListener("mousedown",this,!0)}},_observeSelectionPointer:{value:function(e){this._selectionPointer=e,this.eventManager.claimPointer(e,this);var i=this.element.ownerDocument;window.Touch?(i.addEventListener("touchend",this,!1),i.addEventListener("touchmove",this,!1),i.addEventListener("touchcancel",this,!1)):(i.addEventListener("mouseup",this,!1),i.addEventListener("mousemove",this,!1))}},_ignoreSelectionPointer:{value:function(){this.eventManager.isPointerClaimedByComponent(this._selectionPointer,this)&&this.eventManager.forfeitPointer(this._selectionPointer,this),this._selectionPointer=null,this._currentActiveIteration&&(this._currentActiveIteration.shouldBecomeActive=!1,this._currentActiveIteration=null),this.activeIterations.clear(),this._startX=0,this._startY=0;var e=this.element.ownerDocument;window.Touch?(e.removeEventListener("touchend",this,!1),e.removeEventListener("touchmove",this,!1),e.removeEventListener("touchcancel",this,!1)):(e.removeEventListener("mouseup",this,!1),e.removeEventListener("mousemove",this,!1))}},captureMousedown:{value:function(e){if(null==this._selectionPointer){this._observeSelectionPointer("mouse");var i=this._findIterationContainingElement(e.target);i?(this._startX=e.clientX,this._startY=e.clientY,i.shouldBecomeActive=!0,this._currentActiveIteration=i):this._ignoreSelectionPointer()}}},captureTouchstart:{value:function(e){if(null==this._selectionPointer){this._observeSelectionPointer(e.changedTouches[0].identifier);var i=this._findIterationContainingElement(e.target);if(i){var t=e.changedTouches[0];this._startX=t.clientX,this._startY=t.clientY,i.shouldBecomeActive=!0,this._currentActiveIteration=i}else this._ignoreSelectionPointer()}}},handleTouchmove:{value:function(e){for(var i,t=0;e.changedTouches.length>t;t++)if(e.changedTouches[t].identifier===this._selectionPointer){i=e.changedTouches[t];break}i&&this._move(i.clientX,i.clientY)}},handleMousemove:{value:function(e){e&&this._move(e.clientX,e.clientY)}},_move:{value:function(e,i){var t=this._threshold,s=e-this._startX,a=i-this._startY;s*s+a*a>t*t&&this._ignoreSelectionPointer()}},handleTouchend:{value:function(e){for(var i=0;e.changedTouches.length>i&&!this._endSelectionOnTarget(e.changedTouches[i].identifier,e.target);i++);}},handleTouchcancel:{value:function(){this._ignoreSelectionPointer()}},handleMouseup:{value:function(e){this._endSelectionOnTarget("mouse",e.target)}},_endSelectionOnTarget:{value:function(e,i){if(e===this._selectionPointer){if(this.eventManager.isPointerClaimedByComponent(this._selectionPointer,this)){var t=this._findIterationContainingElement(i);t&&this._currentActiveIteration===t&&(t.active=!1,t.selected||(t.selected=!0))}return this._ignoreSelectionPointer(),!0}}},_findIterationContainingElement:{value:function(e){for(var i;e;){if(e===this.element)return this._iterationForElement.get(i);i=e,e=e.parentNode}}},Iteration:{value:v,serializable:!1}})}}),montageDefine("1f0a740","core/range-controller",{dependencies:["./core","collections/generic-collection","collections/listen/array-changes"],factory:function(e,i){var t=e("./core").Montage,s=e("collections/generic-collection"),a=e("collections/listen/array-changes").observableArrayProperties,u=Object.freeze([]),n=function(e,i){var t=e;return t.__proto__=n.prototype,t.rangeController=i,t.contentEquals=e&&e.contentEquals||Object.is,t};n.prototype=Object.create(Array.prototype,a),Object.defineProperty(n.prototype,"clone",{value:function(){return this.slice()}}),self.swap,Object.defineProperty(n.prototype,"oldSwap",{configurable:!1,value:a.swap.value}),Object.defineProperty(n.prototype,"swap",{configurable:!1,value:function(e,i,t){return this.swap_or_push(e,i,t)}}),n.prototype.oldPush=a.push.value,Object.defineProperty(n.prototype,"push",{configurable:!1,value:function(){for(var e=-1,i=arguments.length,t=Array(i);i>++e;)t[e]=arguments[e];this.swap_or_push(this.length,0,t)}}),Object.defineProperty(n.prototype,"swap_or_push",{configurable:!1,value:function(e,i,t){var s=this.rangeController.content;this.contentEquals=s&&s.contentEquals||Object.is,e=e>=0?e:this.length+e;var a=this.length,n=Math.min(i,a-e);if(t){t.contentEquals=this.contentEquals;var l=t.filter(function(i,a){if(s&&!s.has(i))return!1;if(t.findLast(i)>a)return!1;var u=this.find(i);return 0>u||u>=e&&e+n>u},this)}else l=u;var r;r=0===n?u:Array.prototype.slice.call(this,e,e+n);var o=l.length-r.length,c=Math.max(this.length+o,e+l.length);if(!this.rangeController.multiSelect&&c>1){var m=l.length?l[l.length-1]:this.one();return 0===a?(this.oldPush(m),u):this.oldSwap(0,a,[m])}return this.rangeController.avoidsEmptySelection&&0===c?s.has(this[0])?0===this.length-1?u:this.oldSwap(1,this.length-1):0===this.length?(this.oldPush(s.one()),u):this.oldSwap(0,this.length,[s.one()]):this.oldSwap(e,i,l)}}),i.RangeController=t.specialize({constructor:{value:function(e){this.content=null,this._selection=new n([],this),this.sortPath=null,this.filterPath=null,this.visibleIndexes=null,this.reversed=!1,this.start=null,this.length=null,this.selectAddedContent=!1,this.deselectInvisibleContent=!1,this.clearSelectionOnOrderChange=!1,this.avoidsEmptySelection=!1,this.multiSelect=!1,this.organizedContent=[],this.organizedContent.addRangeChangeListener(this,"organizedContent"),this.defineBinding("_orderedContent",{"<-":"content.($filterPath.defined() ? filter{path($filterPath)} : ()).($sortPath.defined() ? sorted{path($sortPath)} : ()).($reversed ?? 0 ? reversed() : ())"}),this.defineBinding("organizedContent.rangeContent()",{"<-":"_orderedContent.($visibleIndexes.defined() ?$visibleIndexes.filter{<$_orderedContent.length}.map{$_orderedContent[()]} : ()).($start.defined() && $length.defined() ?view($start, $length) : ())"}),this.addRangeAtPathChangeListener("content",this,"handleContentRangeChange"),this.addPathChangeListener("sortPath",this,"handleOrderChange"),this.addPathChangeListener("reversed",this,"handleOrderChange"),this.addOwnPropertyChangeListener("multiSelect",this),this.iterations=[],e&&this.initWithContent(e)}},initWithContent:{value:function(e){return this.content=e,this}},sortPath:{value:null},reversed:{value:null},filterPath:{value:null},visibleIndexes:{value:null},start:{value:null},length:{value:null},selectAddedContent:{value:!1},deselectInvisibleContent:{value:!1},clearSelectionOnOrderChange:{value:!1},avoidsEmptySelection:{value:!1},multiSelect:{value:!1},_orderedContent:{value:null},organizedContent:{value:null},iterations:{value:null},_selection:{value:null},selection:{get:function(){return this._selection},set:function(e){var i=[0,this._selection.length];e&&e.toArray&&(i=i.concat(e.toArray())),this._selection.splice.apply(this._selection,i)}},select:{value:function(e){!this.multiSelect&&this.selection.length>=1&&this.selection.clear(),this.selection.add(e)}},deselect:{value:function(e){(!this.avoidsEmptySelection||this.selection.length>1)&&this.selection["delete"](e)}},clearSelection:{value:function(){(!this.avoidsEmptySelection||this.selection.length>1)&&this.selection.clear()}},add:{value:function(e){var i;return this.content||(this.content=[]),i=this.content.add(e),i&&this.handleAdd(e),i}},push:{value:function(){for(var e=this.content.push.apply(this.content,arguments),i=0;arguments.length>i;i++)this.handleAdd(arguments[i]);return e}},pop:{value:function(){return this.content.pop()}},shift:{value:function(){return this.content.shift()}},unshift:{value:function(){for(var e=this.content.unshift.apply(this.content,arguments),i=0;arguments.length>i;i++)this.handleAdd(arguments[i]);return e}},splice:{value:function(){for(var e=this.content.splice.apply(this.content,arguments),i=2;arguments.length>i;i++)this.handleAdd(arguments[i]);return e}},swap:{value:function(e,i,t){var s=this.content.swap.apply(this.content,arguments);if(t)for(var e=2;t.length>e;e++)this.handleAdd(t[e]);return s}},"delete":{value:function(e){return this.content["delete"](e)}},has:{value:function(e){return this.content?this.content.has(e):!1}},addEach:{value:s.prototype.addEach},deleteEach:{value:s.prototype.deleteEach},clear:{value:function(){this.content.clear()}},addContent:{value:function(){var e=new this.contentConstructor;return this.add(e),e}},_contentConstructor:{value:null},contentConstructor:{get:function(){return this._contentConstructor?this._contentConstructor:this.content&&this.content.contentConstructor?this.content.contentConstructor:Object},set:function(e){this._contentConstructor=e}},handleContentRangeChange:{value:function(e,i){if(this.selection.length>0){var t=this.content&&this.content.contentEquals||Object.is;i.deleteEach(e,t),this.selection&&this.selection.deleteEach(i)}}},handleSelectionRangeChange:{value:function(e,i){if(this.selection)if(this.content){for(var t=[],s=0;e.length>s;s++)this.content.has(e[s])||t.push(e[s]);if(this._selection.deleteEach(t),!this.multiSelect&&this._selection.length>1){var a=this._selection.pop();this._selection.clear(),this._selection.add(a)}this.avoidsEmptySelection&&0==this._selection.length&&this._selection.add(i[0])}else this._selection.clear()}},handleOrganizedContentRangeChange:{value:function(e,i){if(this.deselectInvisibleContent&&this.selection){var t=i.clone(1);t.deleteEach(e),this.selection.deleteEach(i)}}},handleOrderChange:{value:function(){this.clearSelectionOnOrderChange&&this.selection&&this.selection.clear()}},handleAdd:{value:function(e){this.selectAddedContent&&this.selection&&(!this.multiSelect&&this.selection.length>=1&&this.selection.clear(),this.selection.add(e))}},handleMultiSelectChange:{value:function(){if(this.selection){var e=this.selection.length;if(!this.multiSelect&&e>1){var i=this._selection.pop();this._selection.clear(),this._selection.add(i)}}}}},{blueprintModuleId:e("./core")._blueprintModuleIdDescriptor,blueprint:e("./core")._blueprintDescriptor})}}),montageDefine("80796c1","url",{dependencies:["punycode","querystring"],factory:function(e,i){(function(){"use strict";function t(e,i,t){if(e&&"object"==typeof e&&e.href)return e;if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a={},u=e;u=u.trim();var o=r.exec(u);if(o){o=o[0];var c=o.toLowerCase();a.protocol=c,u=u.substr(o.length)}if(t||o||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var m="//"===u.substr(0,2);!m||o&&q[o]||(u=u.substr(2),a.slashes=!0)}if(!q[o]&&(m||o&&!S[o])){var P=u.indexOf("@");if(-1!==P){for(var N=u.slice(0,P),C=!0,D=0,M=v.length;M>D;D++)if(-1!==N.indexOf(v[D])){C=!1;break}C&&(a.auth=decodeURIComponent(N),u=u.substr(P+1))}for(var _=-1,D=0,M=p.length;M>D;D++){var A=u.indexOf(p[D]);-1!==A&&(0>_||_>A)&&(_=A)}-1!==_?(a.host=u.substr(0,_),u=u.substr(_)):(a.host=u,u="");for(var w=n(a.host),E=Object.keys(w),D=0,M=E.length;M>D;D++){var x=E[D];a[x]=w[x]}a.hostname=a.hostname||"";var I="["===a.hostname[0]&&"]"===a.hostname[a.hostname.length-1];if(a.hostname.length>g)a.hostname="";else if(!I)for(var L=a.hostname.split(/\./),D=0,M=L.length;M>D;D++){var j=L[D];if(j&&!j.match(h)){for(var V="",T=0,F=j.length;F>T;T++)V+=j.charCodeAt(T)>127?"x":j[T];if(!V.match(h)){var k=L.slice(0,D),O=L.slice(D+1),z=j.match(b);z&&(k.push(z[1]),O.unshift(z[2])),O.length&&(u="/"+O.join(".")+u),a.hostname=k.join(".");break}}}if(a.hostname=a.hostname.toLowerCase(),!I){for(var U=a.hostname.split("."),Q=[],D=0;U.length>D;++D){var R=U[D];Q.push(R.match(/[^A-Za-z0-9_-]/)?"xn--"+l.encode(R):R)}a.hostname=Q.join(".")}a.host=(a.hostname||"")+(a.port?":"+a.port:""),a.href+=a.host,I&&(a.hostname=a.hostname.substr(1,a.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!f[c])for(var D=0,M=d.length;M>D;D++){var B=d[D],H=encodeURIComponent(B);H===B&&(H=escape(B)),u=u.split(B).join(H)}var W=u.indexOf("#");-1!==W&&(a.hash=u.substr(W),u=u.slice(0,W));var Y=u.indexOf("?");return-1!==Y?(a.search=u.substr(Y),a.query=u.substr(Y+1),i&&(a.query=y.parse(a.query)),u=u.slice(0,Y)):i&&(a.search="",a.query={}),u&&(a.pathname=u),S[o]&&a.hostname&&!a.pathname&&(a.pathname="/"),(a.pathname||a.search)&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=s(a),a}function s(e){"string"==typeof e&&(e=t(e));var i=e.auth||"";i&&(i=encodeURIComponent(i),i=i.replace(/%3A/i,":"),i+="@");var s=e.protocol||"",a=e.pathname||"",u=e.hash||"",n=!1,l="";void 0!==e.host?n=i+e.host:void 0!==e.hostname&&(n=i+(-1===e.hostname.indexOf(":")?e.hostname:"["+e.hostname+"]"),e.port&&(n+=":"+e.port)),e.query&&"object"==typeof e.query&&Object.keys(e.query).length&&(l=y.stringify(e.query));var r=e.search||l&&"?"+l||"";return s&&":"!==s.substr(-1)&&(s+=":"),e.slashes||(!s||S[s])&&n!==!1?(n="//"+(n||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):n||(n=""),u&&"#"!==u.charAt(0)&&(u="#"+u),r&&"?"!==r.charAt(0)&&(r="?"+r),s+n+a+r+u}function a(e,i){return s(u(e,i))}function u(e,i){if(!e)return i;if(e=t(s(e),!1,!0),i=t(s(i),!1,!0),e.hash=i.hash,""===i.href)return e.href=s(e),e;if(i.slashes&&!i.protocol)return i.protocol=e.protocol,S[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=s(i),i;if(i.protocol&&i.protocol!==e.protocol){if(!S[i.protocol])return i.href=s(i),i;if(e.protocol=i.protocol,!i.host&&!q[i.protocol]){for(var a=(i.pathname||"").split("/");a.length&&!(i.host=a.shift()););i.host||(i.host=""),i.hostname||(i.hostname=""),""!==a[0]&&a.unshift(""),2>a.length&&a.unshift(""),i.pathname=a.join("/")}return e.pathname=i.pathname,e.search=i.search,e.query=i.query,e.host=i.host||"",e.auth=i.auth,e.hostname=i.hostname||i.host,e.port=i.port,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.slashes=e.slashes||i.slashes,e.href=s(e),e}var u=e.pathname&&"/"===e.pathname.charAt(0),n=void 0!==i.host||i.pathname&&"/"===i.pathname.charAt(0),l=n||u||e.host&&i.pathname,r=l,o=e.pathname&&e.pathname.split("/")||[],a=i.pathname&&i.pathname.split("/")||[],c=e.protocol&&!S[e.protocol];if(c&&(delete e.hostname,delete e.port,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),delete e.host,i.protocol&&(delete i.hostname,delete i.port,i.host&&(""===a[0]?a[0]=i.host:a.unshift(i.host)),delete i.host),l=l&&(""===a[0]||""===o[0])),n)e.host=i.host||""===i.host?i.host:e.host,e.hostname=i.hostname||""===i.hostname?i.hostname:e.hostname,e.search=i.search,e.query=i.query,o=a;else if(a.length)o||(o=[]),o.pop(),o=o.concat(a),e.search=i.search,e.query=i.query;else if("search"in i){if(c){e.hostname=e.host=o.shift();var m=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;m&&(e.auth=m.shift(),e.host=e.hostname=m.shift())}return e.search=i.search,e.query=i.query,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=s(e),e}if(!o.length)return delete e.pathname,e.search?delete e.path:e.path="/"+e.search,e.href=s(e),e;for(var d=o.slice(-1)[0],p=(e.host||i.host)&&("."===d||".."===d)||""===d,v=0,g=o.length;g>=0;g--)d=o[g],"."==d?o.splice(g,1):".."===d?(o.splice(g,1),v++):v&&(o.splice(g,1),v--);if(!l&&!r)for(;v--;v)o.unshift("..");!l||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),p&&"/"!==o.join("/").substr(-1)&&o.push("");var h=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(c){e.hostname=e.host=h?"":o.length?o.shift():"";var m=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;m&&(e.auth=m.shift(),e.host=e.hostname=m.shift())}return l=l||e.host&&o.length,l&&!h&&o.unshift(""),e.pathname=o.join("/"),(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=i.auth||e.auth,e.slashes=e.slashes||i.slashes,e.href=s(e),e}function n(e){var i={},t=o.exec(e);return t&&(t=t[0],":"!==t&&(i.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(i.hostname=e),i}var l=e("punycode");i.parse=t,i.resolve=a,i.resolveObject=u,i.format=s;var r=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","~","`"].concat(c),d=["'"].concat(c),p=["%","/","?",";","#"].concat(m).concat(d),v=["/","@","?","#"].concat(c),g=255,h=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,b=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,f={javascript:!0,"javascript:":!0},q={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=e("querystring")})()}}),montageDefine("1f0a740","composer/press-composer",{dependencies:["../core/core","./composer","../core/event/mutable-event"],factory:function(e,i){var t=e("../core/core").Montage,s=e("./composer").Composer,a=e("../core/event/mutable-event").MutableEvent,u=i.PressComposer=s.specialize({load:{value:function(){window.Touch?this._element.addEventListener("touchstart",this,!0):this._element.addEventListener("mousedown",this,!0)}},unload:{value:function(){window.Touch?this._element.removeEventListener("touchstart",this,!0):this._element.removeEventListener("mousedown",this,!0)}},delegate:{value:null},cancelPress:{value:function(){return this._state===u.PRESSED?(this._dispatchPressCancel(),this._endInteraction(),!0):!1
}},addEventListener:{value:function(e,i,t){s.addEventListener.call(this,e,i,t),"longPress"===e&&(this._shouldDispatchLongPress=!0)}},UNPRESSED:{value:0},PRESSED:{value:1},CANCELLED:{value:2},_state:{enumerable:!1,value:0},state:{get:function(){return this._state}},_shouldDispatchLongPress:{enumerable:!1,value:!1},_longPressThreshold:{enumerable:!1,value:1e3},longPressThreshold:{get:function(){return this._longPressThreshold},set:function(e){this._longPressThreshold!==e&&(this._longPressThreshold=e)}},_longPressTimeout:{enumberable:!1,value:null},_observedPointer:{enumerable:!1,value:null},_startInteraction:{enumerable:!1,value:function(e){if("enabled"in this.component&&!this.component.enabled||null!==this._observedPointer)return!1;var i;"touchstart"===e.type?(i=e.changedTouches.length,1===i&&(this._observedPointer=e.changedTouches[0].identifier),document.addEventListener("touchend",this,!1),document.addEventListener("touchcancel",this,!1)):"mousedown"===e.type&&(this._observedPointer="mouse",document.addEventListener("mouseup",this,!1),document.addEventListener("click",this,!1)),this._element.addEventListener("dragstart",this,!1),this.component.eventManager.claimPointer(this._observedPointer,this),this._dispatchPressStart(e)}},_interpretInteraction:{value:function(e){var i,t,s;if(null===this._observedPointer)return this._endInteraction(e),void 0;for(i=!this.component.eventManager.isPointerClaimedByComponent(this._observedPointer,this),t=e.target;t!==this._element&&t&&t.parentNode;)t=t.parentNode;if(s=t===this._element,i&&"click"===e.type)return e.preventDefault(),this._endInteraction(e),void 0;if("mouseup"===e.type){if(!i&&s)return this._dispatchPress(e),this._endInteraction(e),void 0;if(!i&&!s)return this._dispatchPressCancel(e),this._endInteraction(e),void 0;this._endInteraction(e)}}},_endInteraction:{value:function(){document.removeEventListener("touchend",this),document.removeEventListener("touchcancel",this),document.removeEventListener("click",this),document.removeEventListener("mouseup",this),this.component.eventManager.isPointerClaimedByComponent(this._observedPointer,this)&&this.component.eventManager.forfeitPointer(this._observedPointer,this),this._observedPointer=null,this._state=u.UNPRESSED}},_changedTouchisObserved:{value:function(e){if(null===this._observedPointer)return!1;for(var i=0,t=e.length;t>i;i++)if(e[i].identifier===this._observedPointer)return i;return!1}},surrenderPointer:{value:function(e,i){var t=this.callDelegateMethod("surrenderPointer",e,i);return void 0!==t&&t===!1?!1:(this._dispatchPressCancel(),!0)}},captureTouchstart:{value:function(e){this._startInteraction(e)}},handleTouchend:{value:function(e){return null===this._observedPointer?(this._endInteraction(e),void 0):(this._changedTouchisObserved(e.changedTouches)!==!1&&(this.component.eventManager.isPointerClaimedByComponent(this._observedPointer,this)?this._dispatchPress(e):e.preventDefault(),this._endInteraction(e)),void 0)}},handleTouchcancel:{value:function(e){(null===this._observedPointer||this._changedTouchisObserved(e.changedTouches)!==!1)&&(this.component.eventManager.isPointerClaimedByComponent(this._observedPointer,this)&&this._dispatchPressCancel(e),this._endInteraction(e))}},captureMousedown:{value:function(e){this._startInteraction(e)}},handleClick:{value:function(e){this._interpretInteraction(e)}},handleMouseup:{value:function(e){this._interpretInteraction(e)}},handleDragstart:{value:function(e){this._dispatchPressCancel(e),this._endInteraction()}},_createPressEvent:{enumerable:!1,value:function(e,i){var t,s;return i||(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,null)),t=new n,t.event=i,t.type=e,t.pointer=this._observedPointer,t.targetElement=i.target,i.changedTouches&&(s=this._changedTouchisObserved(i.changedTouches))!==!1&&(t.touch=i.changedTouches[s]),t}},_dispatchPressStart:{enumerable:!1,value:function(e){if(this._state=u.PRESSED,this.dispatchEvent(this._createPressEvent("pressStart",e)),this._shouldDispatchLongPress){var i=this;this._longPressTimeout=setTimeout(function(){i._dispatchLongPress()},this._longPressThreshold)}}},_dispatchPress:{enumerable:!1,value:function(e){this._shouldDispatchLongPress&&(clearTimeout(this._longPressTimeout),this._longPressTimeout=null),this.dispatchEvent(this._createPressEvent("press",e)),this._state=u.UNPRESSED}},_dispatchLongPress:{enumerable:!1,value:function(e){this._shouldDispatchLongPress&&(this.dispatchEvent(this._createPressEvent("longPress",e)),this._longPressTimeout=null)}},_dispatchPressCancel:{enumerable:!1,value:function(e){this._shouldDispatchLongPress&&(clearTimeout(this._longPressTimeout),this._longPressTimeout=null),this._state=u.CANCELLED,this.dispatchEvent(this._createPressEvent("pressCancel",e))}}}),n=function(){var e,i,s,u,n,l;for(e=a.specialize({type:{value:"press"},_event:{enumerable:!1,value:null},event:{get:function(){return this._event},set:function(e){this._event=e}},_touch:{enumerable:!1,value:null},touch:{get:function(){return this._touch},set:function(e){this._touch=e}}}),i=["altKey","ctrlKey","metaKey","shiftKey","cancelBubble","currentTarget","defaultPrevented","eventPhase","timeStamp","preventDefault","stopImmediatePropagation","stopPropagation"],s=["clientX","clientY","pageX","pageY","screenX","screenY","target"],u=function(e){return{get:function(){return this._event[e]}}},n=function(e){return{get:function(){return this._touch?this._touch[e]:this._event[e]}}},l=i.length-1;l>=0;l--)t.defineProperty(e,i[l],u(i[l]));for(l=s.length-1;l>=0;l--)t.defineProperty(e,s[l],n(s[l]));return e}()}}),montageDefine("1f0a740","ui/overlay.reel/overlay",{dependencies:["../../core/core","../component","../../composer/key-composer","../../composer/press-composer","../../core/event/event-manager"],factory:function(e,i){var t=(e("../../core/core").Montage,e("../component").Component),s=e("../../composer/key-composer").KeyComposer,a=e("../../composer/press-composer").PressComposer,u=e("../../core/event/event-manager").defaultEventManager,n="montage-Overlay";i.Overlay=t.specialize({_pressComposer:{value:null},_keyComposer:{value:null},_anchor:{value:null},anchor:{set:function(e){this._anchor=e,this.needsDraw=!0},get:function(){return this._anchor}},_position:{value:null},position:{set:function(e){this._position=e,this.needsDraw=!0},get:function(){return this._position}},_drawPosition:{value:null},_isShown:{value:!1},isShown:{get:function(){return this._isShown}},_isDisplayed:{value:!1},_resizeHandlerTimeout:{value:null},_previousActiveTarget:{value:null},delegate:{value:null},_dismissOnExternalInteraction:{value:!0},dismissOnExternalInteraction:{set:function(e){e!==this._dismissOnExternalInteraction&&(this._dismissOnExternalInteraction=e,e?this._pressComposer.addEventListener("pressStart",this,!1):this._pressComposer.removeEventListener("pressStart",this,!1))},get:function(){return this._dismissOnExternalInteraction}},constructor:{value:function(){this.super(),this._pressComposer=new a,this._pressComposer.lazyLoad=!0}},enterDocument:{value:function(e){var i,t;e&&(i=this.element.ownerDocument.body,i.appendChild(this.element),this.attachToParentComponent(),t=this.element.ownerDocument.defaultView,t.addEventListener("resize",this),this.addComposerForElement(this._pressComposer,this.element.ownerDocument),this._dismissOnExternalInteraction&&this._pressComposer.addEventListener("pressStart",this,!1),this._keyComposer=new s,this._keyComposer.component=this,this._keyComposer.keys="escape",this._keyComposer.identifier="escape",this.addComposer(this._keyComposer),this._keyComposer.element=window)}},show:{value:function(){if(!this._isShown){if(this.isModal&&(this._previousActiveTarget=u.activeTarget,u.activeTarget=this,u.activeTarget!==this))return console.warn("Overlay "+this.identifier+" can't become the active target because ",u.activeTarget," didn't surrender it."),void 0;this.attachToParentComponent(),this.classList.add(n+"--visible"),this._pressComposer.load(),this._keyComposer.load(),this._isShown=!0,this.needsDraw=!0,this._keyComposer.addEventListener("keyPress",this,!1)}}},hide:{value:function(){this._isShown&&(this.classList.remove(n+"--visible"),this._pressComposer.unload(),this._keyComposer.unload(),this._isShown=!1,this.needsDraw=!0,this.isModal&&(u.activeTarget=this._previousActiveTarget),this._keyComposer.removeEventListener("keyPress",this,!1))}},isModal:{value:!0},surrendersActiveTarget:{value:function(e){return this.isShown&&this.isModal?e.element?this.element.contains(e.element):!1:!0}},handleResize:{value:function(){this.isShown&&(this.needsDraw=!0)}},handlePressStart:{value:function(e){this.element.contains(e.targetElement)||this.dismissOverlay(e)}},handleKeyPress:{value:function(e){"escape"===e.identifier&&this.dismissOverlay(e)}},dismissOverlay:{value:function(e){var i=!1;return this._isShown&&(i=this.callDelegateMethod("shouldDismissOverlay",this,e.targetElement,e.type),(void 0===i||i)&&(this.hide(),this._dispatchDismissEvent())),i}},willDraw:{value:function(){this._isDisplayed&&this._isShown&&this._calculatePosition(),this._isShown||this.callDelegateMethod("didHideOverlay",this)}},draw:{value:function(){this._isShown?this._isDisplayed?(this._reposition(),this.element.style.visibility="visible"):(this.element.style.visibility="hidden",this._isDisplayed=!0,this.callDelegateMethod("didShowOverlay",this),this.needsDraw=!0):this._isDisplayed=!1}},didDraw:{value:function(){this._isShown||this.detachFromParentComponent()}},_reposition:{value:function(){var e=this._drawPosition;this.element.style.top=e.top+"px",this.element.style.left=e.left+"px"}},_getElementPosition:{value:function(e){var i=0,t=0;do i+=e.offsetLeft,t+=e.offsetTop;while(e=e.offsetParent);return{top:t,left:i}}},_calculatePosition:{value:function(){var e,i;e=this.position?this.position:this.anchor?this._calculateAnchorPosition():this._calculateCenteredPosition(),i=this.callDelegateMethod("willPositionOverlay",this,e),i&&(e=i),this._drawPosition=e}},_calculateAnchorPosition:{value:function(){var e,i=this.anchor,t=this.element.offsetWidth,s=this._getElementPosition(i),a=i.offsetHeight||0,u=i.offsetWidth||0;return e={top:s.top+a,left:s.left+u/2-t/2},0>e.left&&(e.left=0),e}},_calculateCenteredPosition:{value:function(){var e=this.element.ownerDocument.defaultView,i=e.innerHeight,t=e.innerWidth,s=this.element.offsetHeight,a=this.element.offsetWidth;return{top:i/2-s/2,left:t/2-a/2}}},_dispatchDismissEvent:{value:function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("dismiss",!0,!0,null),this.dispatchEvent(e)}}})}}),montageDefine("1f0a740","ui/base/abstract-number-field",{dependencies:["../../core/core","./abstract-control","../../composer/key-composer","collections/dict"],factory:function(e,i){var t=(e("../../core/core").Montage,e("./abstract-control").AbstractControl),s=e("../../composer/key-composer").KeyComposer;e("collections/dict");var a=i.AbstractNumberField=t.specialize({constructor:{value:function a(){if(this.constructor===a)throw Error("AbstractNumberField cannot be instantiated.");t.constructor.call(this),this._propertyNamesUsed={},this.defineBinding("classList.has('montage--disabled')",{"<-":"!enabled"})}},enterDocument:{value:function(e){if(e){var i=this._propertyNamesUsed;i.min||(this.min=this.element.getAttribute("min")||this._min),i.max||(this.max=this.element.getAttribute("max")||this._max),i.step||(this.step=this.element.getAttribute("step")||this._step),i.value||(this.value=this.element.getAttribute("value")||this._value),delete this._propertyNamesUsed,this._numberFieldTextFieldComponent.addEventListener("action",this,!1),this._numberFieldMinusComponent.addEventListener("action",this,!1),this._numberFieldPlusComponent.addEventListener("action",this,!1),this._numberFieldTextFieldComponent.delegate=this,this.element.addEventListener("mousedown",this,!1),this.element.tabIndex="-1",this._upKeyComposer=s.createKey(this,"up","increase"),this._downKeyComposer=s.createKey(this,"down","decrease"),this._rightKeyComposer=s.createKey(this,"right","increase"),this._leftKeyComposer=s.createKey(this,"left","decrease")}}},textFieldShouldBeginEditing:{value:function(){return this.enabled}},textFieldDidChange:{value:function(){}},textFieldDidEndEditing:{value:function(){this.value=this._numberFieldTextFieldComponent.value}},textFieldShouldAcceptValue:{value:function(){return this._activeValueChange===!0?!0:void 0}},prepareForActivationEvents:{value:function(){this._upKeyComposer.addEventListener("keyPress",this,!1),this._downKeyComposer.addEventListener("keyPress",this,!1),this._leftKeyComposer.addEventListener("keyPress",this,!1),this._rightKeyComposer.addEventListener("keyPress",this,!1)}},draw:{value:function(){this.element.setAttribute("aria-valuemax",this.max),this.element.setAttribute("aria-valuemin",this.min),this.element.setAttribute("aria-valuenow",this.value)}},acceptsActiveTarget:{value:!0},handleMousedown:{value:function(){this.element.focus()}},handlePlusAction:{value:function(){this._activeValueChange=!0;var e=this.step*this._stepDecimal,i="number"==typeof this.min?this.min*this._stepDecimal:0,t=this.value*this._stepDecimal-i;t%e?0>t?t-=t%e:t+=e-t%e:t+=e,this.value=(t+i)/this._stepDecimal,this._activeValueChange=!1}},handleMinusAction:{value:function(){this._activeValueChange=!0;var e=this.step*this._stepDecimal,i="number"==typeof this.min?this.min*this._stepDecimal:0,t=this.value*this._stepDecimal-i;t-=t%e?t>0?t%e:e+t%e:e,this.value=(t+i)/this._stepDecimal,this._activeValueChange=!1}},handleKeyPress:{value:function(e){this.enabled&&("increase"===e.identifier?this.handlePlusAction():"decrease"===e.identifier&&this.handleMinusAction())}},handleAction:{value:function(e){(e.target===this._numberFieldTextFieldComponent||e.target===this._numberFieldMinusComponent||e.target===this._numberFieldPlusComponent)&&(e.stopPropagation(),this.dispatchActionEvent())}},_value:{value:0},_required:{value:!1},_min:{value:"any"},_max:{value:"any"},_step:{value:1},min:{get:function(){return this._min},set:function(e){return"any"!==e&&isNaN(e=parseFloat(e))?!1:(this._min!==e&&(this._propertyNamesUsed&&(this._propertyNamesUsed.min=!0),this._min=e,this.needsDraw=!0,"number"==typeof e&&e>this.value&&(this.value=e)),void 0)}},max:{get:function(){return this._max},set:function(e){return"any"!==e&&isNaN(e=parseFloat(e))?!1:(this._max!==e&&(this._propertyNamesUsed&&(this._propertyNamesUsed.max=!0),this._max=e,this.needsDraw=!0,"number"==typeof e&&this.value>e&&(this.value=e)),void 0)}},_stepDecimal:{value:1},step:{get:function(){return this._step},set:function(e){if(isNaN(e=parseFloat(e))||0>=e)return!1;if(this._step!==e){this._propertyNamesUsed&&(this._propertyNamesUsed.step=!0),this._step=e;var i=(e+"").match(/\.(\d+)$/);this._stepDecimal=i?Math.pow(10,i[1].length):1}}},value:{get:function(){return this._value},set:function(e){null==e||void 0===e.valueOf?this._value="":isNaN(e=parseFloat(e))||("number"==typeof this.min&&this.min>e&&(e=this.min),"number"==typeof this.max&&e>this.max&&(e=this.max),this._value!==e&&(this._propertyNamesUsed&&(this._propertyNamesUsed.value=!0),this._value=e,this.needsDraw=!0)),this._numberFieldTextFieldComponent&&this._value!==this._numberFieldTextFieldComponent.value&&(this._numberFieldTextFieldComponent.value=this._value)}},enabled:{value:!0},_numberFieldTextFieldComponent:{value:null},_numberFieldMinusComponent:{value:null},_numberFieldPlusComponent:{value:null},_activeValueChange:{value:!1}})}}),montageDefine("1f0a740","ui/base/abstract-button",{dependencies:["./abstract-control","../../composer/press-composer"],factory:function(e,i){var t=e("./abstract-control").AbstractControl,s=e("../../composer/press-composer").PressComposer,a=i.AbstractButton=t.specialize({constructor:{value:function a(){if(this.constructor===a)throw Error("AbstractButton cannot be instantiated.");this.super(),this._pressComposer=new s,this.addComposer(this._pressComposer),this._pressComposer.defineBinding("longPressThreshold ",{"<-":"holdThreshold",source:this}),this.defineBinding("classList.has('montage--disabled')",{"<-":"!enabled"}),this.defineBinding("classList.has('montage--active')",{"<-":"active"})}},enabled:{value:!0},_preventFocus:{value:!1},preventFocus:{get:function(){return this._preventFocus},set:function(e){this._preventFocus=!!e,this.needsDraw=!0}},acceptsActiveTarget:{value:function(){return!this._preventFocus}},willBecomeActiveTarget:{value:function(){}},_labelNode:{value:void 0,enumerable:!1},_label:{value:void 0,enumerable:!1},label:{get:function(){return this._label},set:function(e){if(void 0!==e&&this.converter)try{e=this.converter.convert(e),this.error&&(this.error=null)}catch(i){this.error=i}this._label=""+e,this.needsDraw=!0}},holdThreshold:{value:1e3},_pressComposer:{value:null},_active:{value:!1},active:{get:function(){return this._active},set:function(e){this._active=e,this.needsDraw=!0}},prepareForActivationEvents:{value:function(){this._pressComposer.addEventListener("pressStart",this,!1),this._pressComposer.addEventListener("press",this,!1),this._pressComposer.addEventListener("pressCancel",this,!1)}},addEventListener:{value:function(e,i,s){t.addEventListener.call(this,e,i,s),"longAction"===e&&this._pressComposer.addEventListener("longPress",this,!1)}},handlePressStart:{value:function(e){this.active=!0,e.touch&&document.addEventListener("touchmove",this,!1),this._preventFocus||this._element.focus()}},handlePress:{value:function(){this.active=!1,this.dispatchActionEvent(),document.removeEventListener("touchmove",this,!1)}},handleKeyup:{value:function(e){32===e.keyCode&&(this.active=!1,this.dispatchActionEvent())}},handleLongPress:{value:function(){this._pressComposer.cancelPress();var e=document.createEvent("CustomEvent");e.initCustomEvent("longAction",!0,!0,null),this.dispatchEvent(e)}},handlePressCancel:{value:function(){this.active=!1,document.removeEventListener("touchmove",this,!1)}},handleTouchmove:{value:function(e){e.preventDefault()}},isInputElement:{value:!1},enterDocument:{value:function(e){e&&(this.isInputElement="INPUT"===this.originalElement.tagName,this.isInputElement?void 0===this._label&&(this.label=this.originalElement.value):(this.originalElement.firstChild||this.originalElement.appendChild(document.createTextNode("")),this._labelNode=this.originalElement.firstChild,void 0===this._label&&(this.label=this._labelNode.data)),this.element.setAttribute("role","button"),this.element.addEventListener("keyup",this,!1))}},_drawLabel:{enumerable:!1,value:function(e){this.isInputElement?this._element.value=e:this._labelNode&&(this._labelNode.data=e)}},draw:{value:function(){this._elementNeedsTabIndex()&&(this._preventFocus?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex","-1")),this.isInputElement&&(this.element.disabled=!this.enabled),this._drawLabel(this.label)}},_elementNeedsTabIndexRegex:{value:/INPUT|TEXTAREA|A|SELECT|BUTTON|LABEL/},_elementNeedsTabIndex:{value:function(){return null===this.element.tagName.match(this._elementNeedsTabIndexRegex)}}})}}),montageDefine("803caed","ui/listview.reel/listview.html",{text:'<!DOCTYPE html><html><head>\n    <title></title>\n    <link rel=stylesheet type=text/css href=listview.css>\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"owner"}}},"button":{"prototype":"digit/ui/button.reel","properties":{"element":{"#":"button"},"enabled":true,"label":"Button"},"_dev":{"isHidden":true},"listeners":[{"type":"action","useCapture":false,"listener":{"@":"owner"}}]},"button1":{"prototype":"digit/ui/button.reel","properties":{"element":{"#":"button1"},"enabled":true,"label":"Button"},"bindings":{"label":{"<-":"@repetition:iteration.index"}},"listeners":[{"type":"action","useCapture":false,"listener":{"@":"owner"}}]},"button2":{"prototype":"digit/ui/toggle-switch.reel","properties":{"element":{"#":"button2"}},"bindings":{"checked":{"<-":"@list:iteration.object.data.checked"}}},"checkbox":{"prototype":"digit/ui/checkbox.reel","properties":{"element":{"#":"checkbox"},"checked":true},"bindings":{"checked":{"<->":"@list:iteration.object.data.checked"}}},"image":{"prototype":"digit/ui/image.reel","properties":{"element":{"#":"image"},"crossOrigin":null,"height":"50","width":"50"},"bindings":{"src":{"<-":"@list:iteration.object.data.thumbnail || @list:iteration.object.data.url"}}},"list":{"prototype":"montage/ui/repetition.reel","properties":{"element":{"#":"list"},"isSelectionEnabled":true},"bindings":{"contentController.length":{"<-":"@number.value"},"contentController.start":{"<-":"0"}}},"number":{"prototype":"digit/ui/number-field.reel","properties":{"element":{"#":"number"},"value":5}},"removeBtn":{"prototype":"digit/ui/button.reel","properties":{"element":{"#":"removeBtn"},"enabled":true,"label":"Delete checked"},"listeners":[{"type":"action","useCapture":false,"listener":{"@":"owner"}}]},"repetition":{"prototype":"montage/ui/repetition.reel","properties":{"element":{"#":"repetition"},"isSelectionEnabled":true,"selectedIndexes":[0]},"bindings":{"content":{"<-":"@list.content.slice(0, @list.content.length / @list.contentController.length)"}}},"text":{"prototype":"montage/ui/text.reel","properties":{"element":{"#":"text"},"value":"Text"},"bindings":{"value":{"<-":"@list:iteration.object.data.title"}}},"textField":{"prototype":"digit/ui/text-field.reel","properties":{"element":{"#":"textField"},"placeholderValue":"search"},"_dev":{"isHidden":true}}}</script>\n</head>\n<body>\n    <div data-montage-id=owner class=Listview>\n        <input data-montage-id=textField>\n        <button data-montage-id=button>\n\n        </button>\n        <span>\n            per page:\n        </span>\n        <input type=number data-montage-id=number>\n        <ul data-montage-id=list id=list>\n            <li>\n                <img data-montage-id=image class=list_img>\n                <p data-montage-id=text>\n\n                </p>\n                <div style="text-align: right">\n                    <input type=checkbox data-montage-id=checkbox>\n                    <span> one way binding -&gt; </span>\n                    <button data-montage-id=button2></button>\n                </div>\n            </li>\n        </ul>\n        <button data-montage-id=removeBtn>\n\n        </button>\n        <div class=mid>\n            <ul data-montage-id=repetition class=digit-ButtonGroup>\n                <button data-montage-id=button1>\n\n                </button>\n            </ul>\n        </div>\n    </div>\n\n</body></html>'}),montageDefine("803caed","ui/main.reel/main.html",{text:'<!DOCTYPE html><html><head>\n    <meta charset=utf-8>\n    <title>\n        Main\n    </title>\n    <link rel=stylesheet href=main.css>\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"main"}}},"actionEventListener":{"prototype":"montage/core/event/action-event-listener","properties":{"action":"show","handler":{"@":"overlay"}},"_dev":{"isHidden":true}},"button":{"prototype":"digit/ui/button.reel","properties":{"element":{"#":"button"},"enabled":true,"label":"Login "},"listeners":[{"type":"action","useCapture":false,"listener":{"@":"actionEventListener"}}]},"button2":{"prototype":"digit/ui/button.reel","properties":{"element":{"#":"button2"},"enabled":true,"label":"Sign up"}},"button3":{"prototype":"digit/ui/button.reel","properties":{"element":{"#":"button3"},"enabled":true,"label":""},"listeners":[{"type":"action","useCapture":false,"listener":{"@":"owner"}}]},"listview":{"prototype":"ui/listview.reel","properties":{"element":{"#":"listview"}}},"loginForm":{"prototype":"ui/login-form.reel","properties":{"element":{"#":"loginForm"}}},"overlay":{"prototype":"montage/ui/overlay.reel","properties":{"element":{"#":"overlay"}}}}</script>\n</head>\n<body>\n    <div data-montage-id=main data-montage-skin=wireframeX class=Main>\n        <div data-montage-id=overlay>\n            <div data-montage-id=loginForm></div>\n        </div>\n        <div class=content>  \n        <header>\n            <div>\n                <i class="fa fa-cube fa-3x"></i>\n            </div>\n            <h3 id=logo>\n                Sitename\n            </h3>\n            <ul>\n                <li>\n                    Home\n                </li>\n                <li>\n                    About\n                </li>\n                <li>\n                    Product\n                </li>\n                <li>\n                    Price\n                </li>\n            </ul>\n            <div class=wrap>\n                <button data-montage-id=button>\n                    <i class="fa fa-sign-in"></i>\n                </button>\n                <button data-montage-id=button2></button>\n   \n                <button data-montage-id=button3 class=nav_btn>\n                    <i class="fa fa-th"></i>\n                </button>\n            </div>\n        </header>\n        \n\n            <div data-montage-id=listview></div>\n            <div class=empty></div>\n        </div>\n\n        <footer>\n            <div>\n                <i class="fa fa-copyright"></i>\n                <i class="fa fa-trophy"></i>\n                <i class="fa fa-twitter"></i>\n            </div>\n        </footer>\n        \n    </div>\n\n</body></html>'}),montageDefine("1f0a740","composer/key-composer",{dependencies:["../core/core","./composer"],factory:function(e,i){var t=e("../core/core").Montage,s=e("./composer").Composer,a="keyPress",u="longKeyPress",n="keyRelease",l=i.KeyComposer=s.specialize({_isLoaded:{value:!1},_shouldDispatchEvent:{value:!1},shouldDispatchLongPress:{value:!1},_longPressTimeout:{value:null},_keyRegistered:{value:!1},_keys:{value:null},keys:{get:function(){return this._keys},set:function(e){this._keyRegistered?(o.defaultKeyManager.unregisterKey(this),this._keys=e,o.defaultKeyManager.registerKey(this)):this._keys=e}},load:{value:function(){this._isLoaded=!0,this._shouldDispatchEvent&&!this._keyRegistered&&(o.defaultKeyManager.registerKey(this),this._keyRegistered=!0)}},unload:{value:function(){this._isLoaded=!1,o.defaultKeyManager.unregisterKey(this),this._keyRegistered=!1}},addEventListener:{value:function(e,i,t){var l=this.component;s.addEventListener.call(this,e,i,t),(e==a||e==u||e==n)&&(this._shouldDispatchEvent=!0,e==u&&(this._shouldDispatchLongPress=!0),this._isLoaded?this._keyRegistered||(o.defaultKeyManager.registerKey(this),this._keyRegistered=!0):l&&"function"!=typeof l.addComposer&&(this.element||(this.element=window),this.load()))}},constructor:{value:function(){s.constructor.call(this)}},deserializedFromTemplate:{value:function(){var e=this.component;null===this.identifier&&(this.identifier=t.getInfoForObject(this).label),e&&("function"==typeof e.addComposer?e.addComposer(this):this._isLoaded||(this.element||(this.element=window),this.load()))}}},{createKey:{value:function(e,i,t){var s=this;return this===l&&(s=new l),t||(t=e.identifier?e.identifier+i.toLowerCase().replace(/[ +]/g).toCapitalized():i.toLowerCase().replace(/[ +]/g)),s.keys=i,s.identifier=t,e.addComposer(s),s}},createGlobalKey:{value:function(e,i,t){var s=this;return this===l&&(s=new l),s.keys=i,s.identifier=t,e.addComposerForElement(s,window),s}}}),r=null,o=t.specialize({_defaultKeyManager:{value:null},_loadingDefaultKeyManager:{value:!1},_keysToRegister:{value:[]},constructor:{value:function(){}},registerKey:{value:function(i){var t=this;this._defaultKeyManager?this._defaultKeyManager.registerKey(i):(this._keysToRegister.push(i),this._loadingDefaultKeyManager||(this._loadingDefaultKeyManager=!0,e.async("core/event/key-manager").then(function(e){var i=t._defaultKeyManager=e.defaultKeyManager;t._keysToRegister.forEach(function(e){i.registerKey(e)}),t._keysToRegister.length=0}).done()))}},unregisterKey:{value:function(e){this._defaultKeyManager&&this._defaultKeyManager.unregisterKey(e)}}},{defaultKeyManager:{get:function(){return r||(r=new o),this._defaultKeyManager?this._defaultKeyManager:r}}})}}),montageDefine("7864825","punycode",{dependencies:[],factory:function(e,i,t){(function(e){function s(e){throw RangeError(x[e])}function a(e,i){for(var t=e.length;t--;)e[t]=i(e[t]);return e}function u(e,i){var t=".";return a(e.split(t),i).join(t)}function n(e){for(var i,t,a=[],u=0,n=e.length;n>u;)i=e.charCodeAt(u++),55296==(63488&i)&&(t=e.charCodeAt(u++),(55296!=(64512&i)||56320!=(64512&t))&&s("ucs2decode"),i=((1023&i)<<10)+(1023&t)+65536),a.push(i);return a}function l(e){return a(e,function(e){var i="";return 55296==(63488&e)&&s("ucs2encode"),e>65535&&(e-=65536,i+=j(55296|1023&e>>>10),e=56320|1023&e),i+=j(e)}).join("")}function r(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:y}function o(e,i){return e+22+75*(26>e)-((0!=i)<<5)}function c(e,i,t){var s=0;for(e=t?L(e/D):e>>1,e+=L(e/i);e>I*N>>1;s+=y)e=L(e/I);return L(s+(I+1)*e/(e+C))}function m(e){var i,t,a,u,n,o,m,d,p,v,g=[],h=e.length,b=0,f=_,q=M;for(t=e.lastIndexOf(A),0>t&&(t=0),a=0;t>a;++a)e.charCodeAt(a)>=128&&s("not-basic"),g.push(e.charCodeAt(a));for(u=t>0?t+1:0;h>u;){for(n=b,o=1,m=y;u>=h&&s("invalid-input"),d=r(e.charCodeAt(u++)),(d>=y||d>L((S-b)/o))&&s("overflow"),b+=d*o,p=q>=m?P:m>=q+N?N:m-q,!(p>d);m+=y)v=y-p,o>L(S/v)&&s("overflow"),o*=v;i=g.length+1,q=c(b-n,i,0==n),L(b/i)>S-f&&s("overflow"),f+=L(b/i),b%=i,g.splice(b++,0,f)}return l(g)}function d(e){var i,t,a,u,l,r,m,d,p,v,g,h,b,f,q,C=[];for(e=n(e),h=e.length,i=_,t=0,l=M,r=0;h>r;++r)g=e[r],128>g&&C.push(j(g));for(a=u=C.length,u&&C.push(A);h>a;){for(m=S,r=0;h>r;++r)g=e[r],g>=i&&m>g&&(m=g);for(b=a+1,m-i>L((S-t)/b)&&s("overflow"),t+=(m-i)*b,i=m,r=0;h>r;++r)if(g=e[r],i>g&&++t>S&&s("overflow"),g==i){for(d=t,p=y;v=l>=p?P:p>=l+N?N:p-l,!(v>d);p+=y)q=d-v,f=y-v,C.push(j(o(v+q%f,0))),d=L(q/f);C.push(j(o(d,0))),l=c(t,b,a==u),t=0,++a}++t,++i}return C.join("")}function p(e){return u(e,function(e){return E.test(e)?m(e.slice(4).toLowerCase()):e})}function v(e){return u(e,function(e){return w.test(e)?"xn--"+d(e):e})}var g,h,b="function"==typeof define&&"object"==typeof define.amd&&define.amd&&define,f="object"==typeof i&&i,q="object"==typeof t&&t,S=2147483647,y=36,P=1,N=26,C=38,D=700,M=72,_=128,A="-",w=/[^ -~]/,E=/^xn--/,x={overflow:"Overflow: input needs wider integers to process.",ucs2decode:"UCS-2(decode): illegal sequence",ucs2encode:"UCS-2(encode): illegal value","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=y-P,L=Math.floor,j=String.fromCharCode;if(g={version:"1.0.0",ucs2:{decode:n,encode:l},decode:m,encode:d,toASCII:v,toUnicode:p},f)if(q&&q.exports==f)q.exports=g;else for(h in g)g.hasOwnProperty(h)&&(f[h]=g[h]);else b?define("punycode",g):e.punycode=g})(this)}}),montageDefine("1f0a740","ui/base/abstract-text-field",{dependencies:["../../core/core","./abstract-control","../../composer/key-composer","collections/dict"],factory:function(e,i){var t=(e("../../core/core").Montage,e("./abstract-control").AbstractControl),s=e("../../composer/key-composer").KeyComposer;e("collections/dict");var a=i.AbstractTextField=t.specialize({constructor:{value:function a(){if(this.constructor===a)throw Error("AbstractTextField cannot be instantiated.");t.constructor.call(this),this._keyComposer=new s,this._keyComposer.component=this,this._keyComposer.keys="enter",this.addComposer(this._keyComposer),this.defineBindings({"classList.has('montage--disabled')":{"<-":"!enabled"}})}},hasTemplate:{value:!1},acceptsActiveTarget:{get:function(){var e=this.callDelegateMethod("shouldBeginEditing",this);return e!==!1}},delegate:{value:null},enabled:{value:!0},_placeholderValue:{value:null},placeholderValue:{set:function(e){this._placeholderValue=e,this.needsDraw=!0},get:function(){return this._placeholderValue}},_value:{value:null},value:{set:function(e){e!==this._value&&(!this.hasFocus||this.callDelegateMethod("shouldAcceptValue",this,e))&&(this._value=e,this.needsDraw=!0)},get:function(){return this._value}},_hasFocus:{value:!1},hasFocus:{get:function(){return this._hasFocus}},_keyComposer:{value:null},handleKeyPress:{value:function(e){this.enabled&&e.keyComposer===this._keyComposer&&this.dispatchActionEvent()
}},prepareForActivationEvents:{value:function(){this._keyComposer.addEventListener("keyPress",this,!1)}},enterDocument:{value:function(e){e&&(this.element.addEventListener("input",this,!1),this.element.addEventListener("change",this,!1))}},draw:{value:function(){var e=this.value;this.element.value=null===e||void 0===e?"":"boolean"==typeof e||"object"==typeof e||"number"==typeof e?""+e:e,null!=this.placeholderValue&&this.element.setAttribute("placeholder",this.placeholderValue)}},handleChange:{value:function(){this._updateValueFromDom()}},handleInput:{value:function(){this._updateValueFromDom()}},willBecomeActiveTarget:{value:function(){this._hasFocus=!0,this.callDelegateMethod("didBeginEditing",this)}},surrendersActiveTarget:{value:function(){var e=this.callDelegateMethod("shouldEndEditing",this);return e===!1?!1:(this._hasFocus=!1,this.callDelegateMethod("didEndEditing",this),!0)}},_updateValueFromDom:{value:function(){this._value!==this.element.value&&(this._value=this.element.value,this.dispatchOwnPropertyChange("value",this._value),this.callDelegateMethod("didChange",this))}}})}}),montageDefine("1f0a740","ui/base/abstract-image",{dependencies:["../../core/core","../component","../../core/mini-url"],factory:function(e,i){var t=(e("../../core/core").Montage,e("../component").Component),s=e("../../core/mini-url"),a=i.AbstractImage=t.specialize({constructor:{value:function a(){if(this.constructor===a)throw Error("AbstractImage cannot be instantiated.");t.constructor.call(this),this._image=new Image,this._image.onload=this.handleImageLoad.bind(this),this.addPathChangeListener("_ownerDocumentPart",this,"_rebaseSrc")}},emptyImageSrc:{value:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},_isLoadingImage:{value:!1},_image:{value:null},_src:{value:null},src:{set:function(e){this._src!==e&&(this._src=e,e=this._getRebasedSrc(),e?(this._isInvalidSrc=!1,this._loadImage(e)):this._isInvalidSrc=!0,this.needsDraw=!0)},get:function(){return this._src}},_loadImage:{value:function(e){this._image.src=e,this._isLoadingImage=!this._image.complete}},_isInvalidSrc:{value:!0},width:{value:null},height:{value:null},_textAlternative:{value:null},textAlternative:{set:function(e){this._textAlternative=e,this.needsDraw=!0},get:function(){return this._textAlternative}},_crossOrigin:{value:null},crossOrigin:{set:function(e){e!==this._crossOrigin&&(this._crossOrigin=e,this.needsDraw=!0)},get:function(){return this._crossOrigin}},_rebaseSrc:{value:function(){var e;e=this._getRebasedSrc(),e&&(this._isInvalidSrc=!1,this._loadImage(e),this.needsDraw=!0)}},_getRebasedSrc:{value:function(){var e,i=this._src,t=/^[\w\-]+:|^\//;if(i){if(t.test(i))return i;if(this._ownerDocumentPart&&(e=this._ownerDocumentPart.template.getBaseUrl()))return s.resolve(e,i)}return null}},enterDocument:{value:function(e){e&&this.element.setAttribute("role","img")}},draw:{value:function(){var e;e=this._isLoadingImage||this._isInvalidSrc?this.emptyImageSrc:this._getRebasedSrc(),null==this._crossOrigin||"data:"===e.slice(0,5)?this.element.removeAttribute("crossorigin"):this.element.setAttribute("crossorigin",this._crossOrigin),this.element.src=e,this.element.setAttribute("aria-label",this._textAlternative)}},handleImageLoad:{value:function(){this._isLoadingImage=!1,this.needsDraw=!0}}})}}),montageDefine("1f0a740","ui/base/abstract-checkbox",{dependencies:["../../core/core","./abstract-control","../../composer/press-composer"],factory:function(e,i){var t=(e("../../core/core").Montage,e("./abstract-control").AbstractControl),s=e("../../composer/press-composer").PressComposer,a=i.AbstractCheckbox=t.specialize({constructor:{value:function a(){if(this.constructor===a)throw Error("AbstractCheckbox cannot be instantiated.");t.didCreate.call(this),this._pressComposer=s.create(),this.addComposer(this._pressComposer),this.defineBindings({"classList.has('montage--disabled')":{"<-":"!enabled"},"classList.has('montage--active')":{"<-":"active"},"classList.has('montage-Checkbox--checked')":{"<-":"checked"}})}},active:{value:!1},value:{value:null},_checked:{value:!1},checked:{set:function(e){this._checked=e},get:function(){return this._checked}},enabled:{value:!0},_pressComposer:{value:null},enterDocument:{value:function(e){e&&this.element.setAttribute("role","checkbox")}},draw:{value:function(){this.checked?this.element.setAttribute("aria-checked","true"):this.element.setAttribute("aria-checked","false")}},toggleChecked:{value:function(){this.enabled&&(this.checked=!this.checked,this.dispatchActionEvent())}},handlePressStart:{value:function(e){this.active=!0,e.touch&&document.addEventListener("touchmove",this,!1)}},handlePress:{value:function(){this.active=!1,this.toggleChecked()}},handlePressCancel:{value:function(){this.active=!1,document.removeEventListener("touchmove",this,!1)}},prepareForActivationEvents:{value:function(){this._pressComposer.addEventListener("pressStart",this,!1),this._pressComposer.addEventListener("press",this,!1),this._pressComposer.addEventListener("pressCancel",this,!1)}},activate:{value:function(){this.toggleChecked()}}})}}),montageDefine("1f0a740","ui/base/abstract-toggle-switch",{dependencies:["../../core/core","./abstract-control","../../composer/press-composer"],factory:function(e,i){var t=(e("../../core/core").Montage,e("./abstract-control").AbstractControl),s=e("../../composer/press-composer").PressComposer,a=i.AbstractToggleSwitch=t.specialize({constructor:{value:function a(){if(this.constructor===a)throw Error("AbstractToggleSwitch cannot be instantiated.");this.super(),this._pressComposer=new s,this.addComposer(this._pressComposer),this.defineBindings({"classList.has('montage-ToggleSwitch--checked')":{"<-":"checked"},"classList.has('montage--disabled')":{"<-":"!enabled"}})}},_enabled:{value:!0},enabled:{get:function(){return this._enabled},set:function(e){this._enabled=e,this.needsDraw=!0}},acceptsActiveTarget:{value:function(){return this.enabled}},_pressComposer:{value:null},_checked:{value:!1},checked:{get:function(){return this._checked},set:function(e){this._checked=e,this.needsDraw=!0}},prepareForActivationEvents:{value:function(){this._pressComposer.addEventListener("press",this,!1)}},handlePress:{value:function(){this.enabled&&(this.checked=!this.checked,this.dispatchActionEvent())}},handleKeyup:{value:function(e){this.enabled&&32===e.keyCode&&(this.checked=!this.checked,this.dispatchActionEvent())}},enterDocument:{value:function(){this.element.setAttribute("role","checkbox"),this.element.addEventListener("keyup",this,!1)}},draw:{value:function(){this.element.setAttribute("aria-checked",this._checked),this.element.setAttribute("aria-disabled",!this._enabled)}}})}}),montageDefine("241ccae","ui/checkbox.reel/checkbox.html",{text:'<!DOCTYPE html><html><head>\n    <meta charset=utf-8>\n    <link rel=stylesheet href=checkbox.css>\n    \n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"checkbox"}}}}</script>\n    \n</head>\n<body>\n    <span data-montage-id=checkbox class=digit-Checkbox>\n        <svg viewbox="0 0 22 22">\n            <path class=digit-Checkbox-icon d="M16.7134505,5.23925421 L17.8369808,6.36278454 C18.1579559,6.68375963 18.155261,7.18928629 17.8417994,7.50274785 L9.90369523,15.4408521 C9.58826333,15.756284 9.07985473,15.7521563 8.76373192,15.4360335 L7.6402016,14.3125031 C7.63973757,14.3120391 7.63927421,14.3115747 7.63896013,14.3112519 C7.63816313,14.3104614 7.63736736,14.3096689 7.63657284,14.3088744 L4.23073621,10.9030377 C3.92224924,10.5945508 3.92161045,10.0813757 4.23773325,9.76525291 L5.36126357,8.64172251 C5.68223867,8.32074751 6.18679,8.32246711 6.49904844,8.63472551 L9.33612283,11.4717999 L15.5734872,5.23443561 C15.8889191,4.91900366 16.3973277,4.92313142 16.7134505,5.23925421 C16.7134505,5.23925421 16.3973277,4.92313142 16.7134505,5.23925421 L16.7134505,5.23925421 L16.7134505,5.23925421 Z"></path>\n        </svg>\n    </span>\n\n\n\n</body></html>'}),montageDefine("1f827ed","package.json",{exports:{name:"query-params",version:"0.0.1",description:"Very simple CommonJS-module to encode/decode query parameters",main:"./index.js",scripts:{test:"karma start"},repository:{type:"git",url:"git@github.com:finn-no/query-params.git"},keywords:["query","params","encode"],author:{name:"sveinung rosaker",email:"sveinung.rosaker@finn.no"},contributors:[{name:"Gregers Rygg",email:"gregers@finn.no"},{name:"Michael Gunnulfsen",email:"michael.gunnulfsen@finn.no"}],license:"MIT",devDependencies:{"karma-script-launcher":"~0.1.0","karma-chrome-launcher":"~0.1.1","karma-html2js-preprocessor":"~0.1.0","karma-firefox-launcher":"~0.1.2","karma-jasmine":"~0.1.3","karma-coffee-preprocessor":"~0.1.1",requirejs:"~2.1.9","karma-requirejs":"~0.2.0","karma-phantomjs-launcher":"~0.1.1",karma:"~0.10.7","karma-browserify":"0.0.6"},readmeFilename:"README.md",bugs:{url:"https://github.com/finn-no/query-params/issues"},homepage:"https://github.com/finn-no/query-params",_id:"query-params@0.0.1",dist:{shasum:"1d139c9460818119d4d3bab8df1c1952286f1323"},_from:"query-params@0.0.1",_resolved:"https://registry.npmjs.org/query-params/-/query-params-0.0.1.tgz",hash:"1f827ed",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("241ccae","ui/number-field.reel/number-field.html",{text:'<!DOCTYPE html><html><head>\n    <meta charset=utf-8>\n    <link href=number-field.css rel=stylesheet>\n\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"numberField"},"_numberFieldTextFieldComponent":{"@":"textField"},"_numberFieldMinusComponent":{"@":"minus"},"_numberFieldPlusComponent":{"@":"plus"}}},"textField":{"prototype":"ui/text-field.reel","properties":{"element":{"#":"textField"}},"bindings":{"value":{"<->":"@owner.value"}}},"plus":{"prototype":"ui/button.reel","properties":{"element":{"#":"buttonPlus"}},"listeners":[{"type":"action","listener":{"@":"owner"}}]},"minus":{"prototype":"ui/button.reel","properties":{"element":{"#":"buttonMinus"}},"listeners":[{"type":"action","listener":{"@":"owner"}}]}}</script>\n\n</head>\n<body>\n\n    <span data-montage-id=numberField class=digit-NumberField>\n        <button data-montage-id=buttonMinus class=digit-NumberField-minus tabindex=-1></button>\n        <input data-montage-id=textField class=digit-NumberField-input>\n        <button data-montage-id=buttonPlus class=digit-NumberField-plus tabindex=-1>+</button>\n    </span>\n    \n\n\n</body></html>'}),montageDefine("241ccae","package.json",{exports:{name:"digit",version:"0.5.1",repository:{type:"git",url:"https://github.com/montagejs/digit.git"},dependencies:{montage:"~0.14.0",matte:"~0.2.0"},devDependencies:{"montage-testing":"~0.4.0"},exclude:["overview.html","overview","run-tests.html","test"],description:"![digit](overview/assets/images/icon.png)",bugs:{url:"https://github.com/montagejs/digit/issues"},_id:"digit@0.5.1",dist:{shasum:"17ecd53d240ea66fc514e67b7ff2ac14e44ee8a4",tarball:"http://registry.npmjs.org/digit/-/digit-0.5.1.tgz"},_from:"digit@~0.5.0",_npmVersion:"1.3.11",_npmUser:{name:"montage-bot",email:"francoisfrisch@gmail.com"},maintainers:[{name:"francoisfrisch",email:"francoisfrisch@gmail.com"},{name:"montage-bot",email:"francoisfrisch@gmail.com"}],directories:{},_shasum:"17ecd53d240ea66fc514e67b7ff2ac14e44ee8a4",_resolved:"https://registry.npmjs.org/digit/-/digit-0.5.1.tgz",homepage:"https://github.com/montagejs/digit",hash:"241ccae",mappings:{montage:{name:"montage",hash:"1f0a740",location:"../montage@1f0a740/"},matte:{name:"matte",hash:"ccbd77c",location:"../matte@ccbd77c/"}},production:!0,useScriptInjection:!0}}),montageDefine("7864825","package.json",{exports:{name:"punycode",version:"1.0.0",description:"A robust Punycode converter that fully complies to RFC 3492 and RFC 5891, and works on nearly all JavaScript platforms.",homepage:"http://mths.be/punycode",main:"punycode.js",keywords:["punycode","unicode","idn","url","domain"],licenses:[{type:"MIT",url:"http://mths.be/mit"},{type:"GPL",url:"http://mths.be/gpl"}],author:{name:"Mathias Bynens",email:"mathias@qiwi.be",url:"http://mathiasbynens.be/"},maintainers:[{name:"Mathias Bynens",email:"mathias@qiwi.be",url:"http://mathiasbynens.be/"},{name:"John-David Dalton",email:"john@fusejs.com",url:"http://allyoucanleet.com/"}],bugs:{url:"https://github.com/bestiejs/punycode.js/issues"},repository:{type:"git",url:"https://github.com/bestiejs/punycode.js.git"},engines:["node","rhino"],directories:{doc:"docs",test:"tests"},readmeFilename:"README.md",_id:"punycode@1.0.0",dist:{shasum:"f4386a7483a2b3c5a930f01ced9bda3be402aa7d"},_from:"punycode@>=1.0.0 <1.1.0",_resolved:"https://registry.npmjs.org/punycode/-/punycode-1.0.0.tgz",hash:"7864825",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("803caed","ui/login-form.reel/login-form.html",{text:'<!DOCTYPE html><html><head>\n    <title></title>\n    <link rel=stylesheet type=text/css href=login-form.css>\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"owner"}}},"button":{"prototype":"digit/ui/button.reel","properties":{"element":{"#":"button"},"enabled":true,"label":"LOGIN "}},"inputName":{"prototype":"digit/ui/text-field.reel","properties":{"element":{"#":"inputName"},"placeholderValue":"Login"}},"inputPass":{"prototype":"digit/ui/text-field.reel","properties":{"element":{"#":"inputPass"},"placeholderValue":"Password"}}}</script>\n</head>\n<body>\n    <div data-montage-id=owner class=LoginForm>\n        <div style="text-align: center"> <h3>Login</h3> </div>\n        <div><input data-montage-id=inputName> </div>\n        <div><input data-montage-id=inputPass> </div>\n        <div style="text-align: right"><button data-montage-id=button> <i class="fa fa-arrow-circle-o-right"></i> </button> </div>\n    </div>\n\n</body></html>'}),montageDefine("803caed","ui/listview.reel/listview",{dependencies:["montage/ui/component","montage-jsonp/core/jsonp"],factory:function(e,i){var t=e("montage/ui/component").Component,s=e("montage-jsonp/core/jsonp").Jsonp;i.Listview=t.specialize({constructor:{value:function(){this.super()}},handleButtonAction:{value:function(){var e=this.templateObjects.list,i=this.templateObjects.textField.value;s.makeRequest("http://www.reddit.com/r/"+i+".json?limit=30","jsonp").then(function(i){e.content=i.data.children})}},handleButton1Action:{value:function(e){var i=this.templateObjects.list;i.contentController.start=e.target.label*i.contentController.length}},enterDocument:{value:function(e){if(e){var i=this.templateObjects.list;s.makeRequest("http://www.reddit.com/r/kittens.json?limit=30","jsonp").then(function(e){i.content=e.data.children})}}},handleRemoveBtnAction:{value:function(){var e=this.templateObjects.list,i=e.contentController.getPath("content.filter{data.checked}");console.log(i),e.contentController.deleteEach(i)}}})}}),montageDefine("ace0375","querystring",{dependencies:[],factory:function(e,i,t){("undefined"==typeof define?function(s){s(e,i,t)}:define)(function(e,i,t,s){"use strict";var a=i;a.unescape=decodeURIComponent,a.escape=encodeURIComponent;var u=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};a.stringify=a.encode=function(e,i,t,n){switch(i=i||"&",t=t||"=",e=null===e?s:e,typeof e){case"object":return Object.keys(e).map(function(s){return Array.isArray(e[s])?e[s].map(function(e){return a.escape(u(s))+t+a.escape(u(e))}).join(i):a.escape(u(s))+t+a.escape(u(e[s]))}).join(i);default:return n?a.escape(u(n))+t+a.escape(u(e)):""}},a.parse=a.decode=function(e,i,t){i=i||"&",t=t||"=";var s={};return"string"!=typeof e||0===e.length?s:(e.split(i).forEach(function(e){var i=e.split(t),u=a.unescape(i[0],!0),n=a.unescape(i.slice(1).join(t),!0);u in s?Array.isArray(s[u])?s[u].push(n):s[u]=[s[u],n]:s[u]=n}),s)}})}}),montageDefine("1f0a740","composer/composer",{dependencies:["../core/core","../core/target"],factory:function(e,i){var t=(e("../core/core").Montage,e("../core/target").Target);i.Composer=t.specialize({_component:{value:null},component:{get:function(){return this._component},set:function(e){this._component=e}},_element:{value:null},element:{get:function(){return this._element},set:function(e){this._element=e}},lazyLoad:{value:!1},_needsFrame:{value:!1},needsFrame:{set:function(e){this._needsFrame!==e&&(this._needsFrame=e,this._component&&e&&this._component.scheduleComposer(this))},get:function(){return this._needsFrame}},frame:{value:function(){}},_resolveDefaults:{value:function(){null==this.element&&null!=this.component&&(this.element=this.component.element)}},_load:{value:function(){this.element||this._resolveDefaults(),this.load()}},load:{value:function(){}},unload:{value:function(){}},deserializedFromTemplate:{value:function(){this.component&&this.component.addComposer(this)}}})}}),montageDefine("5747dc1","package.json",{exports:{name:"montage-jsonp",version:"1.0.1",dependencies:{montage:"~0.14.0","query-params":"0.0.1",url:"0.7.9"},devDependencies:{digit:"~0.5.0","montage-testing":"~0.4.0"},main:"core/jsonp",exclude:["run-tests.html","test"],bundle:["ui/main.reel"],author:{name:"Antnio Afonso",url:"https://github.com/aadsm"},description:"MontageJS package that handles JSONP requests.",maintainers:[{name:"Antnio Afonso",url:"https://github.com/aadsm"}],readmeFilename:"README.md",_id:"montage-jsonp@1.0.1",dist:{shasum:"5a6fe8ee529bd7b1952ddc406b6d14adfe72b01a"},_from:"montage-jsonp@1.0.1",_resolved:"https://registry.npmjs.org/montage-jsonp/-/montage-jsonp-1.0.1.tgz",hash:"5747dc1",mappings:{montage:{name:"montage",hash:"1f0a740",location:"../montage@1f0a740/"},"query-params":{name:"query-params",hash:"1f827ed",location:"../query-params@1f827ed/"},url:{name:"url",hash:"80796c1",location:"../url@80796c1/"}},production:!0,useScriptInjection:!0}}),montageDefine("80796c1","package.json",{exports:{author:{name:"Joyent",url:"http://www.joyent.com"},name:"url",description:"Node.JS url module",keywords:["ender","pakmanager","url"],publishConfig:{registry:"http://registry.npmjs.org"},version:"0.7.9",homepage:"http://nodejs.org/api/url.html",repository:{type:"git",url:"git://github.com/coolaj86/node.git"},main:"./url.js",directories:{lib:"."},engines:{node:">= 0.2.0",ender:">= 0.5.0"},dependencies:{querystring:">=0.1.0 <0.2.0",punycode:">=1.0.0 <1.1.0"},devDependencies:{},bugs:{url:"https://github.com/coolaj86/node/issues"},_id:"url@0.7.9",dist:{shasum:"ea07cb01685e95dd7826d42ec88c4a3f603d7c0f"},_from:"url@0.7.9",_resolved:"https://registry.npmjs.org/url/-/url-0.7.9.tgz",hash:"80796c1",mappings:{querystring:{name:"querystring",hash:"ace0375",location:"../querystring@ace0375/"},punycode:{name:"punycode",hash:"7864825",location:"../punycode@7864825/"}},production:!0,useScriptInjection:!0}}),montageDefine("5747dc1","core/jsonp",{dependencies:["montage/core/core","query-params","url","montage/core/uuid","montage/core/promise"],factory:function(e,i){var t=e("montage/core/core").Montage,s=e("query-params"),a=e("url"),u=e("montage/core/uuid"),n=e("montage/core/promise").Promise;i.Jsonp=t.specialize({constructor:{value:function(){this.super()}}},{makeRequest:{value:function(e,i,t){var l,r=n.defer(),o=this,c=a.parse(e),m=s.decode(c.query||""),d=t?t+"ServiceCallback":"serviceCallback",p=d+u.generate().replace(/-/g,"_"),v=document.createElement("script");return window[p]=function(e){document.head.removeChild(v),delete window[p],o._handleResponse(e,r)},m[i?i:"callback"]=p,l=c.protocol+"//"+c.host+c.pathname+"?"+s.encode(m),v.src=l,document.head.appendChild(v),r.promise}},_handleResponse:{value:function(e,i){e?e.error?i.reject(Error(e.error)):i.resolve(e):i.reject(Error("Unknown API Error"))}}})}}),montageDefine("ace0375","package.json",{exports:{name:"querystring",id:"querystring",version:"0.1.0",description:"Node's querystring module for all engines.",keywords:["commonjs","query","querystring"],author:{name:"Irakli Gozalishvili",email:"rfobic@gmail.com"},repository:{type:"git",url:"git://github.com/Gozala/querystring.git",web:"https://github.com/Gozala/querystring"},bugs:{url:"http://github.com/Gozala/querystring/issues/"},devDependencies:{test:">=0.4.3"},main:"./querystring.js",engines:{node:">=0.4.x"},scripts:{test:"node tests/test-querystring.js"},readmeFilename:"Readme.md",homepage:"https://github.com/Gozala/querystring",_id:"querystring@0.1.0",dist:{shasum:"b56f59a485663c2a9aa079405984d5d98ee6e94c"},_from:"querystring@>=0.1.0 <0.2.0",_resolved:"https://registry.npmjs.org/querystring/-/querystring-0.1.0.tgz",hash:"ace0375",mappings:{},production:!0,useScriptInjection:!0}}),montageDefine("1f0a740","ui/text.reel/text",{dependencies:["../component"],factory:function(e,i){var t=e("../component").Component;i.Text=t.specialize({constructor:{value:function(){this.super()}},hasTemplate:{value:!1},_value:{value:null},value:{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this.needsDraw=!0)}},converter:{value:null},defaultValue:{value:""},_valueNode:{value:null},_RANGE:{value:document.createRange()},enterDocument:{value:function(e){if(e){var i=this._RANGE;i.selectNodeContents(this.element),i.deleteContents(),this._valueNode=document.createTextNode(""),i.insertNode(this._valueNode),this.element.classList.add("montage-Text")}}},draw:{value:function(){var e=this._value,i=e||0===e?e:this.defaultValue;this.converter&&(i=this.converter.convert(i)),this._valueNode.data=i}}})}}),montageDefine("1f0a740","core/event/action-event-listener",{dependencies:["../core"],factory:function(e,i){var t=e("../core").Montage;i.ActionEventListener=t.specialize({handler:{value:null},action:{value:null},initWithHandler_action_:{value:function(e,i){return this.handler=e,this.action=i,this}},handleEvent:{value:function(e){if("function"==typeof this.action){var i=this.handler?this.handler:this;this.action.call(i,e)}else this.handler&&this.action&&this.handler[this.action](e)}},serializeProperties:{value:function(e){e.set("handler",this.handler,"reference"),e.set("action",this.action)}}},{blueprintModuleId:e("../core")._blueprintModuleIdDescriptor,blueprint:e("../core")._blueprintDescriptor})}}),montageDefine("1f0a740","core/browser",{dependencies:["montage"],factory:function(e,i){var t=e("montage").Montage,s=RegExp(/AppleWebKit\/([\d.]+)/),a=t.specialize({constructor:{value:function a(e){this.super(),this._userAgent=e,this._analyze(e)}},_analyze:{value:function(e){if(e.indexOf("Android")>-1&&e.indexOf("Mozilla/5.0")>-1&&e.indexOf("AppleWebKit")>-1){this.android={};var i=s.exec(e),t=null===i?null:parseFloat(s.exec(e)[1]);this.android.androidBrowser=null!==t&&537>t}}},_userAgent:{value:null}}),u=null;t.defineProperties(i,{browser:{get:function(){return null===u&&(u=new a(navigator.userAgent)),u}},Browser:{value:a}})}}),montageDefine("1f0a740","ui/base/abstract-control",{dependencies:["../component","collections/dict"],factory:function(e,i){var t=e("../component").Component,s=e("collections/dict");i.AbstractControl=t.specialize({dispatchActionEvent:{value:function(){return this.dispatchEvent(this.createActionEvent())}},_detail:{value:null},detail:{get:function(){return null==this._detail&&(this._detail=new s),this._detail}},createActionEvent:{value:function(){var e,i=document.createEvent("CustomEvent");return e=this._detail,i.initCustomEvent("action",!0,!0,e),i}}})}}),montageDefine("1f827ed","index",{dependencies:[],factory:function(e,i,t){function s(e,i){var t,s=[];for(t in e)null!=e[t]&&"object"!=typeof e[t]&&"function"!=typeof e[t]&&s.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return s.join(i||"&")}function a(e,i){i=i||u;for(var t,s,a,n={},l=e.split(i),r=0,o=l.length;o>r;r++)a=l[r].indexOf("="),t=l[r].substring(0,a),s=l[r].substring(a+1),s&&(n[decodeURIComponent(t)]=decodeURIComponent(s));return n}var u=/&amp;|&|;/gim;t.exports={encode:s,decode:a}}}),montageDefine("241ccae","ui/toggle-switch.reel/toggle-switch.html",{text:'<!DOCTYPE html><html><head>\n    <meta charset=utf-8>\n    <link href=toggle-switch.css rel=stylesheet>\n\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"toggleSwitch"}}}}</script>\n\n</head>\n<body>\n    <span data-montage-id=toggleSwitch class=digit-ToggleSwitch>\n        <span class=digit-ToggleSwitch-thumb></span>\n    </span>\n\n\n</body></html>'}),montageDefine("803caed","ui/main.reel/main",{dependencies:["montage/ui/component"],factory:function(e,i){var t=e("montage/ui/component").Component;i.Main=t.specialize({constructor:{value:function(){this.super()}},enterDocument:{value:function(){window.addEventListener("resize",function(){})}},handleButton3Action:{value:function(){console.log("TOGGLE");var e=document.querySelectorAll("header > ul")[0];e.classList.toggle("expanded")}}})}}),montageDefine("1f0a740","ui/overlay.reel/overlay.html",{text:'<!DOCTYPE html><html><head>\n    <title></title>\n    <link rel=stylesheet type=text/css href=overlay.css>\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"overlay"}}}}</script>\n</head>\n<body>\n    <div data-montage-id=overlay class=montage-Overlay>\n        <div data-param=*></div>\n    </div>\n\n\n</body></html>'}),montageDefine("241ccae","ui/text-field.reel/text-field.html",{text:'<!DOCTYPE html><html><head>\n    <meta charset=utf-8>\n    <link rel=stylesheet href=text-field.css>\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"textField"}}}}</script>\n</head>\n<body>\n    <input data-montage-id=textField class=digit-TextField>\n\n\n</body></html>'}),montageDefine("241ccae","ui/image.reel/image.html",{text:'<!DOCTYPE html><html><head>\n    <title></title>\n    <link rel=stylesheet type=text/css href=image.css>\n    <script type=text/montage-serialization>{"owner":{"properties":{"element":{"#":"image"}}}}</script>\n</head>\n<body>\n    <img data-montage-id=image class=digit-Image>\n\n\n</body></html>'}),montageDefine("241ccae","ui/button.reel/button",{dependencies:["montage/ui/base/abstract-button"],factory:function(e,i){var t=e("montage/ui/base/abstract-button").AbstractButton;i.Button=t.specialize({hasTemplate:{value:!0},constructor:{value:function(){this.super(),this.classList.add("digit-Button")}}})}}),montageDefine("241ccae","ui/toggle-switch.reel/toggle-switch",{dependencies:["montage/core/core","montage/ui/base/abstract-toggle-switch"],factory:function(e,i){var t=(e("montage/core/core").Montage,e("montage/ui/base/abstract-toggle-switch").AbstractToggleSwitch);i.ToggleSwitch=t.specialize({})}}),montageDefine("241ccae","ui/text-field.reel/text-field",{dependencies:["montage/ui/base/abstract-text-field"],factory:function(e,i){var t=e("montage/ui/base/abstract-text-field").AbstractTextField;i.TextField=t.specialize({hasTemplate:{value:!0},constructor:{value:function(){this.super()}}})}}),montageDefine("241ccae","ui/number-field.reel/number-field",{dependencies:["montage/ui/base/abstract-number-field"],factory:function(e,i){var t=e("montage/ui/base/abstract-number-field").AbstractNumberField;i.NumberField=t.specialize({constructor:{value:function(){this.super()}}})}}),montageDefine("241ccae","ui/checkbox.reel/checkbox",{dependencies:["montage/ui/base/abstract-checkbox"],factory:function(e,i){var t=e("montage/ui/base/abstract-checkbox").AbstractCheckbox;i.Checkbox=t.specialize({constructor:{value:function(){this.super()}}})}}),montageDefine("803caed","ui/login-form.reel/login-form",{dependencies:["montage/ui/component"],factory:function(e,i){var t=e("montage/ui/component").Component;i.LoginForm=t.specialize({constructor:{value:function(){this.super()}}})}}),montageDefine("241ccae","ui/image.reel/image",{dependencies:["montage/ui/base/abstract-image"],factory:function(e,i){var t=e("montage/ui/base/abstract-image").AbstractImage;i.Image=t.specialize({})}}),montageDefine("241ccae","ui/button.reel/button.html",{text:"<!DOCTYPE html><html><head>\n    <meta charset=utf-8>\n    <link rel=stylesheet href=button.css>\n</head>\n<body>\n\n\n</body></html>"});
bundleLoaded("index.html.bundle-1-0.js")