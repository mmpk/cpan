module.exports=function(e,t,n){for(var r=e.resolve(t),i=e.getModuleDescriptor(r);i.redirect||i.mappingRedirect;)i.redirect?r=i.redirect:(e=i.mappingRequire,r=i.mappingRedirect),i=e.getModuleDescriptor(r);return e.deepLoad(r).then(function(){var t=i.exports;delete i.exports;var a=i.factory;i.factory=function(e,t,r){var i=function(t){return t in n?n[t]:e(t)},s=JSON.parse(JSON.stringify(r)),o=s.exports;return a(i,o,s)||s.exports};var s=e(r);return i.exports=t,i.factory=a,s})};